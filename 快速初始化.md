# 快速初始化测试用户

## 方法1: 使用脚本（推荐）

```bash
./database/执行初始化.sh
```

脚本会提示输入MySQL密码，然后自动执行初始化。

## 方法2: 使用mysql命令行

```bash
mysql -u root -p shaxian_erp < database/init_test_user_simple.sql
```

## 方法3: 手动执行SQL

1. 连接到MySQL：
```bash
mysql -u root -p
```

2. 选择数据库：
```sql
USE shaxian_erp;
```

3. 执行以下SQL：

```sql
-- 添加password字段（如果已存在会报错，可以忽略）
ALTER TABLE employees ADD COLUMN password VARCHAR(255) NULL AFTER role;

-- 插入或更新测试管理员账号
INSERT INTO employees (id, name, phone, role, password, status, created_at, updated_at) 
VALUES ('emp-admin-001', '系统管理员', '13800138000', 'role-boss', '123456', 'active', NOW(), NOW())
ON DUPLICATE KEY UPDATE 
    password = '123456',
    status = 'active',
    updated_at = NOW();

-- 验证插入结果
SELECT id, name, phone, role, password, status FROM employees WHERE phone = '13800138000';
```

## 验证

执行完成后，运行测试：

```bash
npm run test:auth
```

应该看到所有测试通过！


